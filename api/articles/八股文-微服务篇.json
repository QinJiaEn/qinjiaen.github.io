{"title":"八股文-微服务篇","slug":"八股文-微服务篇","date":"2023-07-27T10:04:20.000Z","updated":"2025-11-16T16:53:55.886Z","comments":true,"path":"api/articles/八股文-微服务篇.json","excerpt":null,"covers":["/posts/52d9fea0/image-20230727182142156.png","/posts/52d9fea0/image-20230727182200600.png","/posts/52d9fea0/image-20230727194640479.png","/posts/52d9fea0/image-20230727194725590.png","/posts/52d9fea0/image-20230727200238614.png","/posts/52d9fea0/image-20230727200808854.png","/posts/52d9fea0/image-20230727200206252.png","/posts/52d9fea0/image-20230727202321219.png","/posts/52d9fea0/image-20230727201612176.png","/posts/52d9fea0/image-20230728150340613.png","/posts/52d9fea0/image-20230728152002437.png","/posts/52d9fea0/image-20230728152618493.png","/posts/52d9fea0/image-20230728155844488.png","/posts/52d9fea0/image-20230728172610771.png","/posts/52d9fea0/image-20230728175759803.png"],"content":"<h1 id=\"微服务篇\"><a href=\"#微服务篇\" class=\"headerlink\" title=\"微服务篇\"></a>微服务篇</h1><p><img src=\"/posts/52d9fea0/image-20230727182142156.png\" alt=\"image-20230727182142156\"></p>\n<h2 id=\"Spring-Cloud\"><a href=\"#Spring-Cloud\" class=\"headerlink\" title=\"Spring Cloud\"></a>Spring Cloud</h2><p><img src=\"/posts/52d9fea0/image-20230727182200600.png\" alt=\"image-20230727182200600\"></p>\n<h3 id=\"Spring-Cloud五大组件\"><a href=\"#Spring-Cloud五大组件\" class=\"headerlink\" title=\"Spring Cloud五大组件\"></a>Spring Cloud五大组件</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">服务注册：Nacos</span><br><span class=\"line\">负载均衡：Ribbon</span><br><span class=\"line\">远程调用：Feign</span><br><span class=\"line\">服务熔断：Sentinel</span><br><span class=\"line\">网关：Gateway</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"服务注册\"><a href=\"#服务注册\" class=\"headerlink\" title=\"服务注册\"></a>服务注册</h3><h4 id=\"Nacos-amp-Eureka\"><a href=\"#Nacos-amp-Eureka\" class=\"headerlink\" title=\"Nacos &amp; Eureka\"></a>Nacos &amp; Eureka</h4><p><img src=\"/posts/52d9fea0/image-20230727194640479.png\" alt=\"image-20230727194640479\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230727194725590.png\" alt=\"image-20230727194725590\"></p>\n<h3 id=\"负载均衡\"><a href=\"#负载均衡\" class=\"headerlink\" title=\"负载均衡\"></a>负载均衡</h3><h4 id=\"Ribbon负载均衡策略\"><a href=\"#Ribbon负载均衡策略\" class=\"headerlink\" title=\"Ribbon负载均衡策略\"></a>Ribbon负载均衡策略</h4><p><img src=\"/posts/52d9fea0/image-20230727200238614.png\" alt=\"image-20230727200238614\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230727200808854.png\" alt=\"image-20230727200808854\"></p>\n<h4 id=\"自定义负载均衡策略\"><a href=\"#自定义负载均衡策略\" class=\"headerlink\" title=\"自定义负载均衡策略\"></a>自定义负载均衡策略</h4><p><img src=\"/posts/52d9fea0/image-20230727200206252.png\" alt=\"image-20230727200206252\"></p>\n<h3 id=\"熔断、降级\"><a href=\"#熔断、降级\" class=\"headerlink\" title=\"熔断、降级\"></a>熔断、降级</h3><p><strong>服务降级</strong></p>\n<p><img src=\"/posts/52d9fea0/image-20230727202321219.png\" alt=\"image-20230727202321219\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230727201612176.png\" alt=\"image-20230727201612176\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230728150340613.png\" alt=\"image-20230728150340613\"></p>\n<h3 id=\"监控\"><a href=\"#监控\" class=\"headerlink\" title=\"监控\"></a>监控</h3><h4 id=\"skywalking\"><a href=\"#skywalking\" class=\"headerlink\" title=\"skywalking\"></a>skywalking</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APM(分布式系统的应用程序性能监控工具)，提供了完善的链路追踪能力，appache的顶级项目</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/posts/52d9fea0/image-20230728152002437.png\" alt=\"image-20230728152002437\"></p>\n<h2 id=\"业务相关\"><a href=\"#业务相关\" class=\"headerlink\" title=\"业务相关\"></a>业务相关</h2><h3 id=\"限流\"><a href=\"#限流\" class=\"headerlink\" title=\"限流\"></a>限流</h3><h4 id=\"Nginx-漏桶算法\"><a href=\"#Nginx-漏桶算法\" class=\"headerlink\" title=\"Nginx 漏桶算法\"></a>Nginx 漏桶算法</h4><p><strong>控制速率</strong></p>\n<p><img src=\"/posts/52d9fea0/image-20230728152618493.png\" alt=\"image-20230728152618493\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230728155844488.png\" alt=\"image-20230728155844488\"></p>\n<h4 id=\"令牌桶算法\"><a href=\"#令牌桶算法\" class=\"headerlink\" title=\"令牌桶算法\"></a>令牌桶算法</h4><h3 id=\"分布式事务\"><a href=\"#分布式事务\" class=\"headerlink\" title=\"分布式事务\"></a>分布式事务</h3><h4 id=\"分布式理论CAP、BASE\"><a href=\"#分布式理论CAP、BASE\" class=\"headerlink\" title=\"分布式理论CAP、BASE\"></a>分布式理论CAP、BASE</h4><p><strong>CAP</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Consistency(一致性)：</span><br><span class=\"line\">\t用户访问分布式中的任意节点，得到的结果都是一样的</span><br><span class=\"line\">Availability(可用性)：</span><br><span class=\"line\">\t用户访问集群中的任意健康节点，必须能得到响应，而不是超时或者拒绝</span><br><span class=\"line\">Partition tolerance(分区容错性)：</span><br><span class=\"line\">\tPartition：</span><br><span class=\"line\">\t\t因为网络故障或者其他原因导致分布式系统中的部分节点与其它节点失去连接，形成独立分区</span><br><span class=\"line\">\ttolerance：</span><br><span class=\"line\">\t\t在集群出现分区时，整个系统也要持续对外提供服务</span><br><span class=\"line\">CP:强一致</span><br><span class=\"line\">AP:高可用</span><br></pre></td></tr></table></figure>\n\n<p><strong>BASE</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Basically Available(基本可用)：</span><br><span class=\"line\">\t分布式系统在出现故障时，允许损失部分可用性，即保证核心可用。</span><br><span class=\"line\">Soft State(软状态)：</span><br><span class=\"line\">\t在一定时间内，允许出现中间状态，比如临时的不一致状态</span><br><span class=\"line\">Eventually Consistent(最终一致性)：</span><br><span class=\"line\">\t虽然无法保证强一致性，但是在软状态结束后，最终达到数据一致</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/posts/52d9fea0/image-20230728172610771.png\" alt=\"image-20230728172610771\"></p>\n<h3 id=\"分布式任务调度\"><a href=\"#分布式任务调度\" class=\"headerlink\" title=\"分布式任务调度\"></a>分布式任务调度</h3><h4 id=\"xxl-job\"><a href=\"#xxl-job\" class=\"headerlink\" title=\"xxl-job\"></a>xxl-job</h4><p><img src=\"/posts/52d9fea0/image-20230728175759803.png\" alt=\"image-20230728175759803\"></p>\n<h2 id><a href=\"#\" class=\"headerlink\" title></a></h2>","more":"<h1 id=\"微服务篇\"><a href=\"#微服务篇\" class=\"headerlink\" title=\"微服务篇\"></a>微服务篇</h1><p><img src=\"/posts/52d9fea0/image-20230727182142156.png\" alt=\"image-20230727182142156\"></p>\n<h2 id=\"Spring-Cloud\"><a href=\"#Spring-Cloud\" class=\"headerlink\" title=\"Spring Cloud\"></a>Spring Cloud</h2><p><img src=\"/posts/52d9fea0/image-20230727182200600.png\" alt=\"image-20230727182200600\"></p>\n<h3 id=\"Spring-Cloud五大组件\"><a href=\"#Spring-Cloud五大组件\" class=\"headerlink\" title=\"Spring Cloud五大组件\"></a>Spring Cloud五大组件</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">服务注册：Nacos</span><br><span class=\"line\">负载均衡：Ribbon</span><br><span class=\"line\">远程调用：Feign</span><br><span class=\"line\">服务熔断：Sentinel</span><br><span class=\"line\">网关：Gateway</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"服务注册\"><a href=\"#服务注册\" class=\"headerlink\" title=\"服务注册\"></a>服务注册</h3><h4 id=\"Nacos-amp-Eureka\"><a href=\"#Nacos-amp-Eureka\" class=\"headerlink\" title=\"Nacos &amp; Eureka\"></a>Nacos &amp; Eureka</h4><p><img src=\"/posts/52d9fea0/image-20230727194640479.png\" alt=\"image-20230727194640479\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230727194725590.png\" alt=\"image-20230727194725590\"></p>\n<h3 id=\"负载均衡\"><a href=\"#负载均衡\" class=\"headerlink\" title=\"负载均衡\"></a>负载均衡</h3><h4 id=\"Ribbon负载均衡策略\"><a href=\"#Ribbon负载均衡策略\" class=\"headerlink\" title=\"Ribbon负载均衡策略\"></a>Ribbon负载均衡策略</h4><p><img src=\"/posts/52d9fea0/image-20230727200238614.png\" alt=\"image-20230727200238614\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230727200808854.png\" alt=\"image-20230727200808854\"></p>\n<h4 id=\"自定义负载均衡策略\"><a href=\"#自定义负载均衡策略\" class=\"headerlink\" title=\"自定义负载均衡策略\"></a>自定义负载均衡策略</h4><p><img src=\"/posts/52d9fea0/image-20230727200206252.png\" alt=\"image-20230727200206252\"></p>\n<h3 id=\"熔断、降级\"><a href=\"#熔断、降级\" class=\"headerlink\" title=\"熔断、降级\"></a>熔断、降级</h3><p><strong>服务降级</strong></p>\n<p><img src=\"/posts/52d9fea0/image-20230727202321219.png\" alt=\"image-20230727202321219\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230727201612176.png\" alt=\"image-20230727201612176\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230728150340613.png\" alt=\"image-20230728150340613\"></p>\n<h3 id=\"监控\"><a href=\"#监控\" class=\"headerlink\" title=\"监控\"></a>监控</h3><h4 id=\"skywalking\"><a href=\"#skywalking\" class=\"headerlink\" title=\"skywalking\"></a>skywalking</h4><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">APM(分布式系统的应用程序性能监控工具)，提供了完善的链路追踪能力，appache的顶级项目</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/posts/52d9fea0/image-20230728152002437.png\" alt=\"image-20230728152002437\"></p>\n<h2 id=\"业务相关\"><a href=\"#业务相关\" class=\"headerlink\" title=\"业务相关\"></a>业务相关</h2><h3 id=\"限流\"><a href=\"#限流\" class=\"headerlink\" title=\"限流\"></a>限流</h3><h4 id=\"Nginx-漏桶算法\"><a href=\"#Nginx-漏桶算法\" class=\"headerlink\" title=\"Nginx 漏桶算法\"></a>Nginx 漏桶算法</h4><p><strong>控制速率</strong></p>\n<p><img src=\"/posts/52d9fea0/image-20230728152618493.png\" alt=\"image-20230728152618493\"></p>\n<p><img src=\"/posts/52d9fea0/image-20230728155844488.png\" alt=\"image-20230728155844488\"></p>\n<h4 id=\"令牌桶算法\"><a href=\"#令牌桶算法\" class=\"headerlink\" title=\"令牌桶算法\"></a>令牌桶算法</h4><h3 id=\"分布式事务\"><a href=\"#分布式事务\" class=\"headerlink\" title=\"分布式事务\"></a>分布式事务</h3><h4 id=\"分布式理论CAP、BASE\"><a href=\"#分布式理论CAP、BASE\" class=\"headerlink\" title=\"分布式理论CAP、BASE\"></a>分布式理论CAP、BASE</h4><p><strong>CAP</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Consistency(一致性)：</span><br><span class=\"line\">\t用户访问分布式中的任意节点，得到的结果都是一样的</span><br><span class=\"line\">Availability(可用性)：</span><br><span class=\"line\">\t用户访问集群中的任意健康节点，必须能得到响应，而不是超时或者拒绝</span><br><span class=\"line\">Partition tolerance(分区容错性)：</span><br><span class=\"line\">\tPartition：</span><br><span class=\"line\">\t\t因为网络故障或者其他原因导致分布式系统中的部分节点与其它节点失去连接，形成独立分区</span><br><span class=\"line\">\ttolerance：</span><br><span class=\"line\">\t\t在集群出现分区时，整个系统也要持续对外提供服务</span><br><span class=\"line\">CP:强一致</span><br><span class=\"line\">AP:高可用</span><br></pre></td></tr></table></figure>\n\n<p><strong>BASE</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Basically Available(基本可用)：</span><br><span class=\"line\">\t分布式系统在出现故障时，允许损失部分可用性，即保证核心可用。</span><br><span class=\"line\">Soft State(软状态)：</span><br><span class=\"line\">\t在一定时间内，允许出现中间状态，比如临时的不一致状态</span><br><span class=\"line\">Eventually Consistent(最终一致性)：</span><br><span class=\"line\">\t虽然无法保证强一致性，但是在软状态结束后，最终达到数据一致</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/posts/52d9fea0/image-20230728172610771.png\" alt=\"image-20230728172610771\"></p>\n<h3 id=\"分布式任务调度\"><a href=\"#分布式任务调度\" class=\"headerlink\" title=\"分布式任务调度\"></a>分布式任务调度</h3><h4 id=\"xxl-job\"><a href=\"#xxl-job\" class=\"headerlink\" title=\"xxl-job\"></a>xxl-job</h4><p><img src=\"/posts/52d9fea0/image-20230728175759803.png\" alt=\"image-20230728175759803\"></p>\n<h2 id><a href=\"#\" class=\"headerlink\" title></a></h2>","categories":[],"tags":[]}